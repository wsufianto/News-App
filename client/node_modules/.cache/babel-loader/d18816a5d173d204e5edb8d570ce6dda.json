{"ast":null,"code":"import _slicedToArray from\"/Users/wsufianto/Documents/JWD/Coding/Learn-React/react-todolist/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import useFetch from'../../Helpers/useFetch';import NewsList from'../NewsItem/NewsList';import*as api from'../../api/index';import{useParams,Redirect}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserNews=function UserNews(){var buttonLabel=/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-blue-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})});var _useParams=useParams(),userId=_useParams.userId;var _useState=useState(JSON.parse(localStorage.getItem('user'))),_useState2=_slicedToArray(_useState,1),user=_useState2[0];var url=\"http://localhost:5000/news/\".concat(userId);var _useFetch=useFetch(url),data=_useFetch.data,setData=_useFetch.setData,isLoading=_useFetch.isLoading,errMessage=_useFetch.errMessage;var username=\"\".concat(user.result.firstName,\" \").concat(user.result.lastName);var handleDelete=function handleDelete(title){var toDelete=data.filter(function(item){return item.title===title;});api.deleteNews(toDelete[0]._id);console.log(\"News Deleted!\");var articles=data.filter(function(item){return item.title!==title;});setData(articles);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container bg-blue-100 rounded-lg max-w-7xl max-h-3/4 overflow-auto text-center mx-auto my-10 bg-gray-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl py-3 px-3 text-blue-600\",children:\" Saved News \"})}),userId!==user.result._id?/*#__PURE__*/_jsx(Redirect,{to:\"/*\"}):data.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 py-5\",children:\"No News Found\"}):/*#__PURE__*/_jsx(NewsList,{items:data,title:\"\".concat(username,\"'s News\"),isLoading:isLoading,errMessage:errMessage,handleClick:handleDelete,label:buttonLabel}),errMessage!==''&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-red-500\",children:[errMessage,\" \"]}),isLoading&&/*#__PURE__*/_jsx(\"div\",{children:\" Loading ... \"})]});};export default UserNews;","map":{"version":3,"sources":["/Users/wsufianto/Documents/JWD/Coding/Learn-React/react-todolist/client/src/Components/User/UserNews.js"],"names":["React","useState","useFetch","NewsList","api","useParams","Redirect","UserNews","buttonLabel","userId","JSON","parse","localStorage","getItem","user","url","data","setData","isLoading","errMessage","username","result","firstName","lastName","handleDelete","title","toDelete","filter","item","deleteNews","_id","console","log","articles","length"],"mappings":"8LAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,QAAP,KAAqB,sBAArB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,iBAArB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,kBAApC,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAErB,GAAMC,CAAAA,WAAW,cACf,YACE,SAAS,CAAC,uBADZ,CAEE,IAAI,CAAC,cAFP,CAGE,OAAO,CAAC,WAHV,CAIE,KAAK,CAAC,4BAJR,uBAME,aACE,QAAQ,CAAC,SADX,CAEE,CAAC,CAAC,yNAFJ,CAGE,QAAQ,CAAC,SAHX,EANF,EADF,CAeA,eAAiBH,SAAS,EAA1B,CAAMI,MAAN,YAAMA,MAAN,CAEA,cAAeR,QAAQ,CAACS,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAD,CAAvB,wCAAOC,IAAP,eACA,GAAMC,CAAAA,GAAG,sCAAiCN,MAAjC,CAAT,CACA,cAAiDP,QAAQ,CAACa,GAAD,CAAzD,CAAQC,IAAR,WAAQA,IAAR,CAAcC,OAAd,WAAcA,OAAd,CAAuBC,SAAvB,WAAuBA,SAAvB,CAAkCC,UAAlC,WAAkCA,UAAlC,CACA,GAAMC,CAAAA,QAAQ,WAAMN,IAAI,CAACO,MAAL,CAAYC,SAAlB,aAA+BR,IAAI,CAACO,MAAL,CAAYE,QAA3C,CAAd,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAE9B,GAAMC,CAAAA,QAAQ,CAAGV,IAAI,CAACW,MAAL,CAAY,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACH,KAAL,GAAeA,KAAnB,EAAhB,CAAjB,CAEArB,GAAG,CAACyB,UAAJ,CAAeH,QAAQ,CAAC,CAAD,CAAR,CAAYI,GAA3B,EACAC,OAAO,CAACC,GAAR,CAAY,eAAZ,EACA,GAAMC,CAAAA,QAAQ,CAAGjB,IAAI,CAACW,MAAL,CAAY,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACH,KAAL,GAAeA,KAAnB,EAAhB,CAAjB,CACAR,OAAO,CAACgB,QAAD,CAAP,CACD,CARD,CAUA,mBACE,aAAK,SAAS,CAAC,0GAAf,wBACE,YAAK,SAAS,CAAC,kCAAf,uBACE,WAAI,SAAS,CAAC,kCAAd,0BADF,EADF,CAIGxB,MAAM,GAAKK,IAAI,CAACO,MAAL,CAAYS,GAAvB,cAA6B,KAAC,QAAD,EAAU,EAAE,CAAC,IAAb,EAA7B,CACDd,IAAI,CAACkB,MAAL,GAAgB,CAAhB,cAAoB,YAAK,SAAS,CAAC,mBAAf,2BAApB,cACE,KAAC,QAAD,EAAU,KAAK,CAAElB,IAAjB,CAAuB,KAAK,WAAKI,QAAL,WAA5B,CAAoD,SAAS,CAAEF,SAA/D,CAA0E,UAAU,CAAEC,UAAtF,CAAkG,WAAW,CAAEK,YAA/G,CAA6H,KAAK,CAAEhB,WAApI,EANJ,CAOIW,UAAU,GAAK,EAAhB,eAAuB,aAAK,SAAS,CAAC,cAAf,WAA+BA,UAA/B,OAP1B,CAQGD,SAAS,eAAI,sCARhB,GADF,CAYD,CA9CD,CAgDA,cAAeX,CAAAA,QAAf","sourcesContent":["import React, { useState } from 'react'\nimport useFetch from '../../Helpers/useFetch'\nimport NewsList from '../NewsItem/NewsList'\nimport * as api from '../../api/index'\nimport { useParams, Redirect } from 'react-router-dom'\n\nconst UserNews = () => {\n\n  const buttonLabel = (\n    <svg\n      className=\"w-6 h-6 text-blue-400\"\n      fill=\"currentColor\"\n      viewBox=\"0 0 20 20\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\"\n        clipRule=\"evenodd\"\n      />\n    </svg>\n  )\n\n  let { userId } = useParams()\n\n  const [user] = useState(JSON.parse(localStorage.getItem('user')))\n  const url = `http://localhost:5000/news/${userId}`\n  const { data, setData, isLoading, errMessage } = useFetch(url)\n  const username = `${user.result.firstName} ${user.result.lastName}`\n\n  const handleDelete = (title) => {\n\n    const toDelete = data.filter(item => item.title === title)\n\n    api.deleteNews(toDelete[0]._id)\n    console.log(\"News Deleted!\")\n    const articles = data.filter(item => item.title !== title)\n    setData(articles)\n  }\n\n  return (\n    <div className=\"container bg-blue-100 rounded-lg max-w-7xl max-h-3/4 overflow-auto text-center mx-auto my-10 bg-gray-100\">\n      <div className=\"flex justify-center items-center\">\n        <h1 className=\"text-3xl py-3 px-3 text-blue-600\"> Saved News </h1>\n      </div>\n      {userId !== user.result._id ? <Redirect to=\"/*\" /> :\n      data.length === 0 ? <div className=\"text-red-500 py-5\">No News Found</div> :\n        <NewsList items={data} title={`${username}'s News`} isLoading={isLoading} errMessage={errMessage} handleClick={handleDelete} label={buttonLabel} />}\n      {(errMessage !== '') && <div className=\"text-red-500\">{errMessage} </div>}\n      {isLoading && <div> Loading ... </div>}\n    </div>\n  )\n}\n\nexport default UserNews\n"]},"metadata":{},"sourceType":"module"}